<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="no-feedback" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Beta Features">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Save Operator</title>
        <link href="Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="Resources/Stylesheets/Styles.css" rel="stylesheet" />
        <script src="Resources/Scripts/jquery.min.js">
        </script>
        <script src="Resources/Scripts/plugins.min.js">
        </script>
        <script src="Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop" style="display: none;"><a href="Default.htm#Save_Operator.htm">Open topic with navigation</a>
        </p>
        <script type="text/javascript">/* <![CDATA[ */
			var _gaq = _gaq || [];
			_gaq.push(['_setAccount', 'UA-16579649-1']);
			_gaq.push(['_trackPageview']);
			(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
			})();
		/* ]]> */</script>
        <h1>Save Operator</h1>
        <p>Using a Save operator allows you to save the results of a query into the Sumo Logic file system. Later, you can use the lookup operator to access the saved data. Save operator saves data in a simple format to a location you choose.</p>
        <p class="Note">You'll need to remember the path where you point the save operator to put the file. You may want to save searches that contain save operators so you can refer to it later. (At this time there's no way locate the saved file if you forget the path.)</p>
        <p>Let's say you want to save data about new user accounts created each day. Your save operator could look like:</p>
        <p class="Indent" style="font-weight: bold;">| parse "name=*," as name<br />| parse "action=*," as action<br />| parse "date=*," as date<br />| where action="sign-up"<br />| first(date) as date, first(action) as action by name<br />| save myFolder/mySubFolder/newDailyUsers</p>
        <p>The above search would create a file that looks a bit like this:</p>
        <table style="width: 50%;">
            <col style="width: 124px;" />
            <col style="width: 99px;" />
            <col style="width: 117px;" />
            <tbody>
                <tr>
                    <td style="font-weight: bold;">Name</td>
                    <td style="font-weight: bold;">Action</td>
                    <td style="font-weight: bold;">Date</td>
                </tr>
                <tr>
                    <td>John</td>
                    <td>sign-up </td>
                    <td>2012-08-20</td>
                </tr>
                <tr>
                    <td>Bill</td>
                    <td>sign-up </td>
                    <td>2012-08-21</td>
                </tr>
                <tr>
                    <td>Bob</td>
                    <td>sign-up </td>
                    <td>2012-08-21</td>
                </tr>
            </tbody>
        </table>
        <p>You can access data in the saved table using the lookup operator.</p>
        <p class="Tip">Aggregate results can also be saved with the save operator.</p>
        <h2>Saving files to a shared location</h2>
        <p>A file generated by a save operator can be saved to an org-level shared folder. This allows for others in your organization to use your search results when running their lookup queries.</p>
        <p>Note that files saved to a shared location can only be modified by the person who originally shared the file.</p>
        <p style="font-weight: bold;">To save a file to a shared location:</p>
        <ul>
            <li value="1">Include the  following at the end of your query:</li>
        </ul>
        <p class="Indent" style="font-weight: bold;">...save /shared/myFolder/mySubFolder/fileName</p>
        <p>In the path, the word "shared" can be any combination of cases.</p>
        <h2>Using Lookup to access saved data</h2>
        <p>Once you've saved the results of a search to the Sumo Logic file system, the lookup operator allows you to search that data. (Learn more in <a href="Lookup_Operator.htm">Lookup Operator</a>.)</p>
        <p>For example, say we wanted to find the date when users signed up. Using the table above, we'd use this query to find that information:</p>
        <p style="font-weight: bold;">* | parse "user_name=*," as name<br />| lookup date from myFolder/mySubFolder/newDailyUsers on name=name</p>
        <h2>Appending to saved files</h2>
        <p>Once you've created a file generated by a save operator, you can append data at any time. If you're running a scheduled daily search that calculates properties for the current day, that data is appended to the existing file containing results from the previous days. Data you append to a file must match exactly; if the new results don't match the previous results an error message appears, including cases where you attempt to append with additional fields.</p>
        <p class="Note"> If you don't use "append" the previously saved data will be overwritten.</p>
        <p>Let's say that you'd like to append your newDailyUsers file each day by scheduling this search to run every 24 hours:</p>
        <p class="Indent"><b>| parse "name=*," as name</b>
            <br style="font-weight: bold;" /><b>| parse "action=*," as action</b>
            <br style="font-weight: bold;" /><b>| parse "date=*," as date</b>
            <br style="font-weight: bold;" /><b>| where action="sign-up"</b>
            <br style="font-weight: bold;" /><b>| first(date) as date, first(action) as action by name</b>
            <br style="font-weight: bold;" /><b>| save append myFolder/mySubFolder/newDailyUsers</b>
        </p>
        <p>Each day the query runs the above data is appended to the newDailyUsers file.</p>
        <p>You can also append data to a saved file from different queries. For example, say we have two sources, "bill" that includes billing information, and "config" that contains account information, and we'd like to be able to search for some values from each source. These searches would create a table with information from both sources:</p>
        <p class="Indent" style="font-weight: bold;">source=bill | parse "user_id=*," as name<br />| parse "user_email=*," as email<br />| save myFolder/mySubFolder/NameEmailMapping</p>
        <p class="Indent" style="font-weight: bold;">source=config | parse "_user=[*]" as name<br />| parse "contact_info=[*]" as email<br />| save append myFolder/mySubFolder/NameEmailMapping</p>
        <p>&#160;</p>
        <p>&#160;</p>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkBottom" style="display: none;"><a href="Default.htm#Save_Operator.htm">Open topic with navigation</a>
        </p>
    </body>
</html>