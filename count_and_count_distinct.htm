<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="no-feedback" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Operators &amp; Expressions|Group Operator &amp; Grouping Functions">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>count, count_distinct, and count_frequent</title>
        <link href="Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="Resources/Stylesheets/Styles.css" rel="stylesheet" />
        <script src="Resources/Scripts/jquery.min.js">
        </script>
        <script src="Resources/Scripts/plugins.min.js">
        </script>
        <script src="Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop" style="display: none;"><a href="Default.htm#count_and_count_distinct.htm">Open topic with navigation</a>
        </p>
        <script type="text/javascript">/* <![CDATA[ */
			var _gaq = _gaq || [];
			_gaq.push(['_setAccount', 'UA-16579649-1']);
			_gaq.push(['_trackPageview']);
			(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
			})();
		/* ]]> */</script>
        <h1>count, count_distinct, and count_frequent</h1>
        <p>Aggregating (group-by) functions are used in conjunction with the group operator and a field name. Only the word <b>by</b> is required to represent the <a href="Group_Operator_and_Group-by_Functions.htm">group operator</a>. The count function is also an operator in its own right and therefore can be used with or without the word <b>by</b>.</p>
        <h2>count</h2>
        <p>Counts total number of messages that match the keyword search within the time range analyzed. </p>
        <ul>
            <li value="1">Syntax: <ul><li value="1">count</li><li value="2">count by</li></ul></li>
            <li value="2">Creates field named <b>_count</b></li>
            <li value="3">Examples:<ul><li value="1"> ... | count as countOfPort group by srcAddress, tgtAddress</li><li value="2">* | parse "GET * " as url | count by url | sort by _count<br /><br /></li></ul></li>
        </ul>
        <h2><a name="count_di"></a>count_distinct</h2>
        <p>Counts only distinct occurrences of the value of a field being counted within the time range analyzed. </p>
        <ul>
            <li value="1">Syntax: count_distinct(fieldname)</li>
            <li value="2">Creates field named <b>_count_distinct</b></li>
            <li value="3">Examples:<ul><li value="1"> ... | count_distinct(username) group by hostname</li><li value="2">_sourceCategory=*apache* | parse "* -" as src_ip | count_distinct(src_ip)</li></ul></li>
        </ul>
        <p class="Tip">By default, ordering  is not defined inside of groups created using a group-by expression. To order your results, use <a href="Sort.htm">the <b>sort</b> operator</a>.<br /><br /></p>
        <h2>count_frequent</h2>
        <p>The count_frequent function can be used in cases where you want to identify the most common values for aggregations with over 10,000 distinct groups. This query returns the highest-count 10,000 results in sorted order. The resulting count field is called _approxcount because it is only an <i>estimate</i> of the true count; the estimate may be incorrect, but can only be over (it will never be under). </p>
        <p>The count_frequent function is followed immediately by one or more field names.</p>
        <ul>
            <li value="1">Syntax: count_frequent fieldname</li>
            <li value="2">Syntax for multiple fields: count_frequent field1, field2, field3 (and so on)</li>
            <li value="3">Creates field named _approxcount</li>
            <li value="4">Example:</li>
        </ul>
        <p>* | parse "srcIP=*, url=*" as srcIP, url | count_frequent srcIP, url</p>
        <p>The limitations for use of this operator are as follows:</p>
        <ul>
            <li value="1">Cannot be used with other aggregating functions like sum or avg.</li>
            <li value="2">Sort is built into the query and defaults to a most-to-least order.</li>
        </ul>
        <p>&#160;</p>
        <p>&#160;</p>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkBottom" style="display: none;"><a href="Default.htm#count_and_count_distinct.htm">Open topic with navigation</a>
        </p>
    </body>
</html>