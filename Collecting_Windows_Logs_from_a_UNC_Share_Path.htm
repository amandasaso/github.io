<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="no-feedback" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Setting Up| Installed Collectors and Sources|Step 3. Add a Source|Configuring a Remote Windows Event Log Source|Remote Win Event Log Source Prerequisites">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Collecting Windows Logs from a UNC Share Path</title>
        <link href="Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="Resources/Stylesheets/Styles.css" rel="stylesheet" />
        <script src="Resources/Scripts/jquery.min.js">
        </script>
        <script src="Resources/Scripts/plugins.min.js">
        </script>
        <script src="Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop" style="display: none;"><a href="Default.htm#Collecting_Windows_Logs_from_a_UNC_Share_Path.htm">Open topic with navigation</a>
        </p>
        <script type="text/javascript">/* <![CDATA[ */
			var _gaq = _gaq || [];
			_gaq.push(['_setAccount', 'UA-16579649-1']);
			_gaq.push(['_trackPageview']);
			(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
			})();
		/* ]]> */</script>
        <h1>Collecting Windows Logs from a UNC Share Path</h1>
        <p>As an alternative to using SSH for remote Windows collections, Sumo Logic Collectors can collect files remotely using CIFS/SMB by configuring a Local File Source (not a Remote File Source) with a UNC share path.</p>
        <p>Here is an overview of the required steps:</p>
        <ul>
            <li value="1"><a href="https://sumologic.zendesk.com/entries/20684236">Install the Sumo Logic Collector</a> for Windows.</li>
            <li value="2">On the machine where the files reside (the target or remote machine), use Windows Advanced Sharing options to create a UNC share for the log directory.</li>
            <li value="3"><a href="Configuring_a_Local_File_Source.htm">Set up a Local File Source</a>
            </li>
        </ul>
        <p class="Important"><strong>The Collector must reside within the same Active Directory domain as the target host, and the target host must allow access without requiring a password. </strong>
        </p>
        <h3>Step 1. Install a Sumo Logic Collector.</h3>
        <ul>
            <li value="1"><a href="https://sumologic.zendesk.com/entries/20684236">Install the Sumo Logic Collector</a> on a machine within the same Active Directory domain as the target system where files reside.</li>
        </ul>
        <p>&#160;</p>
        <h3>Step 2. Set UNC&#160;share permissions.</h3>
        <ol>
            <li value="1">Set up the UNC share permissions (Share with "Everyone" and "Read-Only") for the folder on the target machine.<ul style="list-style-type: circle;"><li value="1">Open Explorer in the machine where the files reside.</li><li value="2">Right-click the log directory, and select <strong>Properties</strong>.</li><li value="3">Click <strong>Advanced Sharing</strong>.</li><li value="4">In the Advanced Sharing dialog, give the log directory a share name (or just use the actual folder name), and then click <strong>Permissions</strong>.</li><li value="5">Set the permissions for <strong>Everyone</strong> to <strong>Read</strong>.<br />NOTE:  The Collector operates as the SYSTEM user, and hence cannot utilize drive mappings. That is to say, you can’t log in to the Collector and map <strong>F: to \\server\share\path</strong>.  The Collector runs as SYSTEM, and SYSTEM is not you, nor is SYSTEM logged on, so SYSTEM can’t use drive maps. Setting up the share for only a specific user prevents the Collector from successfully accessing the directory. Make sure you set permissions to "Everyone".<br /><img src="Resources/Images/Win-UNC-share-permissions-sm.png" /><br /></li></ul></li>
            <li value="2" data-mc-continue="true">Click <strong>OK</strong>. When the Permissions dialog closes, you will see your UNC path listed under Network Path. This is the exact path you will enter when you are configuring a Local File Source in the Sumo Logic Web Application.<br /><img src="Resources/Images/Win-UNC-path.png" /><br /></li>
            <li value="3">Verify that you have set up the share correctly. Open Explorer on the machine where the Collector is installed. Type in the UNC share path. If you can see the log files listed, you can collect them. If Explorer asks you to enter a password, then you have not set up permissions correctly. Make sure that permissions for the folder are set to "Everyone" and "Read-Only."</li>
            <li value="4">From the Sumo Logic Web Application, <a href="Configuring_a_Local_File_Source.htm">create a new Local File Source</a>.</li>
            <li value="5">Enter the file path to the UNC share. For this example, the UNC path looks like this:
</li>
        </ol>
        <p class="IndentCode">					\\WIN-QR0406514NE\LogFiles
</p>
        <p class="Indent">					In general, a UNC path has this format:</p>
        <p class="IndentCode">					\\server\share\file_path</p>
        <ol data-mc-continue="true">
            <li value="6">The <strong><em>server</em></strong> portion of a UNC path references the server name set by a system administrator, or an IP address. The <strong><em>share</em></strong> portion of a UNC name references a labeled share point created by an administrator, as in Step 2. The <strong><em>file path</em></strong> portion of a UNC name references the local subdirectories beneath the share point.</li>
            <li value="7">Save your Local File Source configuration.  Wait a few seconds, and then click the <strong>Status</strong> tab to check the message volume for the Collector.</li>
        </ol>
        <p>&#160;</p>
        <p>&#160;</p>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkBottom" style="display: none;"><a href="Default.htm#Collecting_Windows_Logs_from_a_UNC_Share_Path.htm">Open topic with navigation</a>
        </p>
    </body>
</html>