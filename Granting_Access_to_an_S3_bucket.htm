<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="no-feedback" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Setting Up|Hosted Collectors and  Sources|Adding an Amazon S3 Source">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Granting Access to an S3 bucket</title>
        <link href="Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="Resources/Stylesheets/Styles.css" rel="stylesheet" />
        <script src="Resources/Scripts/jquery.min.js">
        </script>
        <script src="Resources/Scripts/plugins.min.js">
        </script>
        <script src="Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop" style="display: none;"><a href="Default.htm#Granting_Access_to_an_S3_bucket.htm">Open topic with navigation</a>
        </p>
        <script type="text/javascript">/* <![CDATA[ */
			var _gaq = _gaq || [];
			_gaq.push(['_setAccount', 'UA-16579649-1']);
			_gaq.push(['_trackPageview']);
			(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
			})();
		/* ]]> */</script>
        <h1>Granting Access to an S3 bucket</h1>
        <p>Before configuring an S3 <span class="MyVariablesSource">Source</span>, you'll need to grant <span class="MyVariablesCompanyName">Sumo Logic</span> permissions to get objects and object versions, and list object and object versions in your organization's bucket. First you'll need to make sure that your AWS account includes IAM. You can enable IAM&#160;through the AWS control panel.</p>
        <h2>Granting S3 permissions</h2>
        <p>&#160;</p>
        <ol>
            <li value="1">In your AMS account Services page, click <b>IAM</b>.<br /><br /><img src="Resources/Images/S3_IAM_click_647x322.png" style="width: 647;height: 322;" /><br /><br /></li>
            <li value="2">Click <b>Create a New Group of Users</b>.<br /><br /><img src="Resources/Images/S3_IAM_Create_New_Group_415x73.png" style="width: 415;height: 73;" /><br /><br /></li>
            <li value="3">Create a group named SumoLogic, then click <b>Continue</b>.<br /><br /><img src="Resources/Images/S3_IAM_Create_group_375x178.png" style="width: 375;height: 178;" /><br /><br /></li>
            <li value="4">For Permissions, choose <b>Custom Policy</b>, then click <b>Select</b>.<br /><br /><img src="Resources/Images/S3_IAM_Custom_Policy_570x291.png" style="width: 570;height: 291;" /><br /><br /></li>
            <li value="5">For Policy Name, you may want to use <b>"allow-s3-read"</b> or something similar, so your organization is aware of why this policy was created. Then, enter the JSON parameters you'd like to use for the policy (see this <a href="#Policy">JSON example</a> to copy and paste a recommended policy). Click <b>Continue</b>.<br /><br /><img src="Resources/Images/S3_IAM_set_policy_493x328.png" style="width: 493;height: 328;" /><br /><br /></li>
            <li value="6">Next, create a <b>user</b> (we named our sumologic-bucket-scanner) making sure to generate a key. Then click <b>Continue</b>.<br /><br /><img src="Resources/Images/S3_IAM_NewUser_364x379.png" style="width: 364;height: 379;" /><br /><br /></li>
            <li value="7">Click <b>Continue</b>. The group is created. </li>
            <li value="8">Click <b>Show User Security Credentials</b> to view the <b>Access Key ID</b> and <b>Secret Access Key</b> for this user. You'll provide it to Sumo Logic. You can also choose to download a .csv file with this information by clicking Download Credentials.<br /><br /><img src="Resources/Images/S3_IAM_credentials_424x206.png" style="width: 424;height: 206;" /><br /><br /></li>
        </ol>
        <h3><a name="Policy"></a>Policy JSON</h3>
        <p>We recommend using the following JSON to create a policy:</p>
        <div style="height: 406px;background-color: #cccccc;width: 750px;">
            <p class="code">{</p>
            <p class="code">"Statement": [</p>
            <p class="code"> {</p>
            <p class="IndentCode">"Sid": "Stmt1366678552407",</p>
            <p class="IndentCode">"Action": [</p>
            <p class="IndentCode"> "s3:GetObject",</p>
            <p class="IndentCode"> "s3:GetObjectVersion",</p>
            <p class="IndentCode"> "s3:ListBucketVersions",</p>
            <p class="IndentCode"> "s3:ListBucket"</p>
            <p class="IndentCode">], </p>
            <p class="IndentCode">"Effect": "Allow",</p>
            <p class="IndentCode">"Resource": [ "arn:aws:s3:::your_bucketname/*","arn:aws:s3:::your_bucketname" ]</p>
            <p class="IndentCode">}</p>
            <p class="code"> ]</p>
            <p class="code">}</p>
        </div>
        <p>Make sure to enter the actual name of your S3 bucket to the Resource line of JSON.</p>
        <h2>Managing Access Keys</h2>
        <p> In addition, while configuring an S3 <span class="MyVariablesSource">Source</span>, you'll need to provide <b>Key ID</b> and <b>Secret Key</b> credentials (tokens) to <span class="MyVariablesCompanyName">Sumo Logic</span>. Security, token, and access settings are handled through <b>Amazon Web Service Identity and Access Management (IAM)</b>.</p>
        <p>
            <img src="Resources/Images/S3_AWS_creds_362x69.png" style="width: 362;height: 69;" />
        </p>
        <p><b>Important:</b> If your organization does not yet have IAM&#160;in your AWS account, you must add this option before configuring an S3 <span class="MyVariablesSource">Source</span>. Otherwise <span class="MyVariablesCompanyName">Sumo Logic</span> won't have appropriate permissions to access your data.</p>
        <p>For instructions on using IAM , please see  <a href="http://aws.amazon.com/iam/">AWS Identity and Access Management (IAM)</a> to learn about the options available to your organization.</p>
        <p>&#160;</p>
        <p>&#160;</p>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkBottom" style="display: none;"><a href="Default.htm#Granting_Access_to_an_S3_bucket.htm">Open topic with navigation</a>
        </p>
    </body>
</html>