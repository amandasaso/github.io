<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="no-feedback" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Setting Up| Installed Collectors and Sources|Recommendations for Collections">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Recommendations for Windows IIS Collections</title>
        <link href="Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="Resources/Stylesheets/Styles.css" rel="stylesheet" />
        <script src="Resources/Scripts/jquery.min.js">
        </script>
        <script src="Resources/Scripts/plugins.min.js">
        </script>
        <script src="Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop" style="display: none;"><a href="Default.htm#Recommendations_for_Windows_IIS_Collections.htm">Open topic with navigation</a>
        </p>
        <script type="text/javascript">/* <![CDATA[ */
			var _gaq = _gaq || [];
			_gaq.push(['_setAccount', 'UA-16579649-1']);
			_gaq.push(['_trackPageview']);
			(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
			})();
		/* ]]> */</script>
        <h1>Recommendations for Windows IIS Collections</h1>
        <p>This section describes how to configure your Windows IIS&#160;logs to feed into the Sumo Logic Service so that they can be aggregated and analyzed.</p>
        <p>There are two general types of Windows messages you will want to collect:</p>
        <ul>
            <li value="1">Windows Event Logs</li>
            <li value="2">Windows IIS Logs</li>
        </ul>
        <p>These two types are collected with two different Sources. Windows Events are collected using a Windows Event Log   Source. Windows IIS&#160;logs are collected using a Local or Remote File Source. </p>
        <h2>Collecting Windows Event Logs</h2>
        <p>To collect Windows Event Logs, follow instructions to <a href="Configuring_a_Windows_Event_Log_Source.htm">set up a Windows Event Log   Source</a> and select the Event types you need to collect. </p>
        <p class="Important"><b>Prerequisites: In order to collect remote Windows Events, you will first need to configure a domain user and adjust firewall and RPC settings. See <a href="https://sumologic.zendesk.com/entries/21039467" target="_blank">Collecting Windows Events</a> for more information.</b>
        </p>
        <h2>Setting Up Windows IIS Logging</h2>
        <p>Windows IIS logs are text-based logs collected by creating a Local or Remote File Source. </p>
        <p>If you have not yet configured logging on your Windows server, or if you would like to confirm settings for your current logging,  follow these instructions. After confirming that log files are being created properly, you can set up a Source to collect them.</p>
        <p>To enable logging on your IIS Server:</p>
        <ol>
            <li value="1">Open the Sever Manager Console.</li>
            <li value="2">	Select <b>Roles</b>.</li>
            <li value="3">Select <b>Web Server (IIS)</b>.</li>
            <li value="4">Select the host you wish to collect IIS logs from.</li>
            <li value="5">In the right-hand-pane, select <b>Logging</b>.</li>
            <li value="6">For the option "One log file per" select             <![CDATA[ ]]><b>Site</b>.</li>
            <li value="7">For the Log File Format, choose <b>W3C</b> so that you can select the fields to log.</li>
            <li value="8">Click <b>Select Fields</b>, and then select the checkboxes for:<ul><li value="1">Date</li><li value="2">Time</li><li value="3">Client IP Address</li><li value="4">User Name</li><li value="5">Server IP&#160;Address</li><li value="6">Server Port</li><li value="7">Method</li><li value="8">URI Stem</li><li value="9">URI Query</li><li value="10">Protocol Status</li><li value="11">Protocol Substatus</li><li value="12">Win32 Status</li><li value="13">Bytes Sent</li><li value="14">Bytes Received</li><li value="15">Time Taken</li><li value="16">User Agent</li></ul></li>
            <li value="9">Click <b>OK</b>&#160;to save your configuration.</li>
        </ol>
        <p>To confirm that the log files are being created:</p>
        <ol>
            <li value="1">Open a command-line window and change directories to <b>C:\inetpub\Logs\LogFiles</b>. This is the same path you will enter when you configure the Source to collect these files.</li>
            <li value="2">Under the <b>\W3SVC1</b> directory, you should see one or more files with a .log extension. If the file is present, you can collect it.</li>
        </ol>
        <p>&#160;</p>
        <p>&#160;</p>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkBottom" style="display: none;"><a href="Default.htm#Recommendations_for_Windows_IIS_Collections.htm">Open topic with navigation</a>
        </p>
    </body>
</html>