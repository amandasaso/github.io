<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="no-feedback" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Operators &amp; Expressions">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Keyvalue operator</title>
        <link href="Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="Resources/Stylesheets/Styles.css" rel="stylesheet" />
        <script src="Resources/Scripts/jquery.min.js">
        </script>
        <script src="Resources/Scripts/plugins.min.js">
        </script>
        <script src="Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop" style="display: none;"><a href="Default.htm#Keyvalue_operator.htm">Open topic with navigation</a>
        </p>
        <script type="text/javascript">/* <![CDATA[ */
			var _gaq = _gaq || [];
			_gaq.push(['_setAccount', 'UA-16579649-1']);
			_gaq.push(['_trackPageview']);
			(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
			})();
		/* ]]> */</script>
        <h1>Keyvalue operator</h1>
        <p>Typically, log files contain information that follow a key-value structure. The keyvalue operator allows you to get values from a log message by specifying the key associated with each value.</p>
        <p>For example, a log could contain some the following key values (highlighted):</p>
        <p>
            <img src="Resources/Images/Keyvalue_highlight.png" />
        </p>
        <p>From that log message, you can use the keyvalue operator to get values for one or more keys. For example,if you'd like to see information just about the "remote_ip" value, running this query:</p>
        <p class="Indent" style="font-weight: bold;">... | keyvalue "remote_ip" ...</p>
        <p>would produce these results:</p>
        <p>
            <img src="Resources/Images/Keyvalue_results_894x217.png" style="width: 894;height: 217;" />
        </p>
        <h3>Inference mode syntax</h3>
        <p>When used in the default <b>inference mode</b> the keyvalue operator uses an internal list of regular expressions to determine how to extract the value for a given key, rather than having to explicitly specify regular expressions to extract values. This greatly simplifies the syntax. </p>
        <p>For example, you could extract "executionStartTime" and "savedSearchId" from a log message by running this query:</p>
        <p class="Indent" style="font-weight: bold;">* | keyvalue infer keys "executionStartTime", "savedSearchId"</p>
        <p>to produce these results:</p>
        <p>
            <img src="Resources/Images/Keyvalue_inference_results_920x515.png" style="width: 920;height: 515;" />
        </p>
        <h3>Regular Expression mode syntax</h3>
        <p>In <b>Regular Expression</b> mode, you'll need to explicitly match keys and values based on a regular expression. This allows for greater flexibility than inference mode. For example, to extract the "serviceinfo_IP"&#160;and "perf_request_start_timestamp_ms" fields from a log message, you could use this query:</p>
        <p class="Indent" style="font-weight: bold;">* | keyvalue regex " (.*?)=(.*?)," keys "serviceinfo.IP", "perf.request_start_timestamp_ms" as ip, start_ms</p>
        <p>The keyvalue operator also supports regular expressions that contain a <b>single match group</b>. (You may notice an improvement in performance by running queries with a single match group.) For example, you could run this query to get the same results as the previous query:</p>
        <p class="Indent" style="font-weight: bold;">* | kv regex "=(.*?)," "serviceinfo.IP", "perf.request_start_timestamp_ms"</p>
        <p>In the above case is that the operator first finds the key itself in the message (first occurrence), and then finds the closest match of the regular expression to the location in the message where the key was found.</p>
        <p class="IndentImportant">The number of fields specified with the "as" clause must match the number of keys specified. You can omit the clause if you'd like the operator to automatically create the field names for the extracted values; this is done by keyvalue replacing every character (other than a..zm A..Z, 0..9, or _) with an underscore (_). </p>
        <h3>Abbreviated syntax</h3>
        <p>The Keyvalue operator can be abbreviated in either mode (Inference or Regular Expression). For example,running this query:</p>
        <p class="Indent"><b>* | keyvalue infer keys "a", "b"</b>
        </p>
        <p>will produce the same results as running this query:</p>
        <p class="Indent"><b>* | keyvalue "a", "b"</b>
        </p>
        <p>Also, keyvalue can be abbreviated to "kv". For example:</p>
        <p class="Indent"><b>* | kv "a", "b"</b>
        </p>
        <p>&#160;</p>
        <p>&#160;</p>
        <p>&#160;</p>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkBottom" style="display: none;"><a href="Default.htm#Keyvalue_operator.htm">Open topic with navigation</a>
        </p>
    </body>
</html>