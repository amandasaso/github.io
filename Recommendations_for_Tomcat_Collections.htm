<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="no-feedback" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Setting Up| Installed Collectors and Sources|Recommendations for Collections">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Recommendations for Tomcat Collections</title>
        <link href="Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="Resources/Stylesheets/Styles.css" rel="stylesheet" />
        <script src="Resources/Scripts/jquery.min.js">
        </script>
        <script src="Resources/Scripts/plugins.min.js">
        </script>
        <script src="Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop" style="display: none;"><a href="Default.htm#Recommendations_for_Tomcat_Collections.htm">Open topic with navigation</a>
        </p>
        <script type="text/javascript">/* <![CDATA[ */
			var _gaq = _gaq || [];
			_gaq.push(['_setAccount', 'UA-16579649-1']);
			_gaq.push(['_trackPageview']);
			(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
			})();
		/* ]]> */</script>
        <h1>Recommendations for Tomcat Collections</h1>
        <p>Apache Tomcat is an open source software implementation of the Java Servlet and JavaServer Pages technologies. It is the most common Servlet engine in use today. Many of our customers have developed their custom web applications using Apache Tomcat and would like to leverage the Sumo Logic service to collect, manage and analyze these logs. </p>
        <p class="Note">It is important to note that there are two distinct ‘families’ of logs generated by your Tomcat-based web application. First, there are the default logs generated by the Tomcat Servlet Engine itself (this document primarily deals with those) and then there is a second set of logs generated by the actual web-application you are running. This second set of logs is completely customized by the developers of your web-application, and no single guide can encompass all of the possible options and variations that are found in the field.The settings we outline below for the default Tomcat logs will be generally applicable to your application logs. However, make sure you consult with your web-application team to find out exactly where these application logs reside. </p>
        <h2>Collector Configuration</h2>
        <p>The first step before collecting files is to install and register a Sumo Logic Collector on the host running Apache Tomcat, or on a host with connectivity to your Apache Tomcat servers via the SSH protocol and then <a href="Configuring_a_Remote_File_Source.htm">set up a Remote File Source</a> to collect the logs of interest.</p>
        <h2>Files to Collect</h2>
        <p>The logging schema for Apache differs slightly on different Linux distributions, and depending on your installation, but in general, the standard Tomcat log location is /var/log/tomcat/</p>
        <p>Here is an outline of the logs you should collect and how to configure the Sumo Source to collect them.</p>
        <h3>/var/log/tomcat/logs/catalina.log</h3>
        <p>Purpose: This is the general output log (STDOUT and STDERR) of the Tomcat Servlet Engine</p>
        <p>Settings to use when configuring the Source:</p>
        <ul>
            <li value="1">Timestamp Parsing: Yes</li>
            <li value="2">Use Timezone from log File: No</li>
            <li value="3">Multiline Processing: Yes</li>
            <li value="4">Infer Boundaries: Yes</li>
            <li value="5">Boundary Regex: You may leave this blank</li>
            <li value="6">Recommended Category: Application_Tomcat_General</li>
        </ul>
        <h3>/var/log/tomcat/logs/localhost.log</h3>
        <p>Purpose: If this file exists, it is the output log of the Tomcat Servlet Engine specific to this host</p>
        <p>Settings to use when configuring the Source:</p>
        <ul>
            <li value="1">Timestamp Parsing: Yes</li>
            <li value="2">Use Timezone from log File: No</li>
            <li value="3">Multiline Processing: Yes</li>
            <li value="4">Infer Boundaries: Yes</li>
            <li value="5">Boundary Regex: You may leave this blank</li>
            <li value="6">Recommended Category: Application_Tomcat_General</li>
        </ul>
        <h3>/var/log/tomcat/logs/host-manager.log</h3>
        <p>Purpose: If this file exists, it is the output log of the Tomcat Host Manager, which manages distributed Tomcat hosts</p>
        <p>Settings to use when configuring the Source:</p>
        <ul>
            <li value="1">Timestamp Parsing: Yes</li>
            <li value="2">Use Timezone from log File: No</li>
            <li value="3">Multiline Processing: Yes</li>
            <li value="4">Infer Boundaries: Yes</li>
            <li value="5">Boundary Regex: You may leave this blank</li>
            <li value="6">Recommended Category: Application_Tomcat_Manager</li>
        </ul>
        <h3>/var/log/tomcat/logs/manager.log</h3>
        <p>Purpose: If this file exists, it is the output log of the Tomcat Host Manager as it relates to the local Tomcat server in question</p>
        <p>Settings to use when configuring the Source:</p>
        <ul>
            <li value="1">Timestamp Parsing: Yes</li>
            <li value="2">Use Timezone from log File: No</li>
            <li value="3">Multiline Processing: Yes</li>
            <li value="4">	Infer Boundaries: Yes</li>
            <li value="5">Boundary Regex: OK to leave blank</li>
            <li value="6">Recommended Category: Application_Tomcat_Manager</li>
        </ul>
        <p>&#160;</p>
        <p>&#160;</p>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkBottom" style="display: none;"><a href="Default.htm#Recommendations_for_Tomcat_Collections.htm">Open topic with navigation</a>
        </p>
    </body>
</html>