<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="no-feedback" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Setting Up| Installed Collectors and Sources|Recommendations for Collections">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Recommendations for Apache Collections</title>
        <link href="Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="Resources/Stylesheets/Styles.css" rel="stylesheet" />
        <script src="Resources/Scripts/jquery.min.js">
        </script>
        <script src="Resources/Scripts/plugins.min.js">
        </script>
        <script src="Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop" style="display: none;"><a href="Default.htm#Recommendations_for_Apache_Collections.htm">Open topic with navigation</a>
        </p>
        <script type="text/javascript">/* <![CDATA[ */
			var _gaq = _gaq || [];
			_gaq.push(['_setAccount', 'UA-16579649-1']);
			_gaq.push(['_trackPageview']);
			(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
			})();
		/* ]]> */</script>
        <h1>Recommendations for Apache Collections</h1>
        <p>This section describes how to configure your Apache logs to feed into the Sumo Logic Service so that they can be aggregated and analyzed.</p>
        <h2>Collector Configuration</h2>
        <p>The first thing you  need to do is install and register a Sumo Logic Collector, either on the host machine running Apache (recommended), or on a network host that has connectivity to your Apache server via syslog. (See Installing a Sumo Collector for instructions on Collector installation and registration).</p>
        <ul>
            <li value="1">If the Collector is installed on the host machine where Apache is running (recommended), <a href="Configuring_a_Local_File_Source.htm">configure a series of Local File Sources to collect each of the files</a>.</li>
            <li value="2">To <a href="Configuring_a_Syslog_Source.htm">configure your Apache Server to log to a Syslog Source</a> (syslog receiver), Sumo Logic recommends that you first consult your Apache documentation and read this document from OReilly Press: <a href="http://oreilly.com/pub/a/sysadmin/2006/10/12/httpd-syslog.html" target="_blank">http://oreilly.com/pub/a/sysadmin/2006/10/12/httpd-syslog.html</a>. Apache does not readily log to syslog by default and the configuration may be rather complex, as such Sumo Logic recommends that you collect your Apache logs via a locally-installed Collector unless you have a strong business or technical reason not to do so.</li>
        </ul>
        <p>The logging schema for Apache differs slightly on different Linux distributions. We will cover the standard locations and filenames for both RedHat and Ubuntu.</p>
        <h2>Ubuntu</h2>
        <p>&#160;</p>
        <h3>/var/log/apache2/access.log</h3>
        <p>Purpose: These  logs indicate a request has been made of your Apache server.</p>
        <p>Settings to use when configuring the Source:</p>
        <ul>
            <li value="1">Recommended Source Category: Application_Apache_Access</li>
            <li value="2">Timestamp Parsing: Yes</li>
            <li value="3">Use Timezone from Log File: No</li>
            <li value="4">Multiline Processing: No</li>
            <li value="5">Infer Boundaries: No</li>
            <li value="6">Boundary Regex: OK to leave blank</li>
        </ul>
        <h3>/var/log/apache2/error.log</h3>
        <p>Purpose: This is where Apache logs any of its errors.</p>
        <p>Settings to use when configuring the Source:</p>
        <ul>
            <li value="1">Recommended Source Category: Application_Apache_Errors</li>
            <li value="2">Timestamp Parsing: Yes</li>
            <li value="3">Use Timezone from Log File: No</li>
            <li value="4">Multiline Processing: No</li>
            <li value="5">Infer Boundaries: No</li>
            <li value="6">Boundary Regex: OK to leave blank</li>
        </ul>
        <h3>/var/log/apache2/ssl_access.log</h3>
        <p>Purpose: These are the logs which indicate a request has been made of your Apache server using the Secure Sockets Layer (SSL).</p>
        <p>Settings to use when configuring the Source:</p>
        <ul>
            <li value="1">Recommended Source Category: Application_Apache_Access</li>
            <li value="2">Timestamp Parsing: Yes</li>
            <li value="3">Use Timezone from Log File: No</li>
            <li value="4">Multiline Processing: No</li>
            <li value="5">Infer Boundaries: No</li>
            <li value="6">Boundary Regex: OK to leave blank</li>
        </ul>
        <h3>/var/log/apache2/other_vhosts_access.log</h3>
        <p>Purpose: These are the logs which indicate a request has been made of your Apache server on a virtual host.</p>
        <p>Settings to use when configuring the Source:</p>
        <ul>
            <li value="1">Recommended Source Category: Application_Apache_Access</li>
            <li value="2">Timestamp Parsing: Yes</li>
            <li value="3">Use Timezone from Log File: No</li>
            <li value="4">Multiline Processing: No</li>
            <li value="5">Infer Boundaries: No</li>
            <li value="6">Boundary Regex: OK to leave blank</li>
        </ul>
        <h2>Redhat</h2>
        <p>On RedHat servers, the setup is slightly different:</p>
        <h3>/var/log/httpd/access_log</h3>
        <p>Purpose: These  logs indicate a request has been made of your Apache server</p>
        <p>Settings to use when configuring the Source:</p>
        <ul>
            <li value="1">Recommended Source Category: Application_Apache_Access</li>
            <li value="2">Timestamp Parsing: Yes</li>
            <li value="3">Use Timezone from Log File: No</li>
            <li value="4">Multiline Processing: No</li>
            <li value="5">Infer Boundaries: No</li>
            <li value="6">Boundary Regex: OK to leave blank</li>
        </ul>
        <h3>/var/log/httpd/error_log</h3>
        <p>Purpose: This is where Apache logs errors.</p>
        <p>Settings to use when configuring the Source:</p>
        <ul>
            <li value="1">Recommended Source Category: Application_Apache_Errors</li>
            <li value="2">Timestamp Parsing: Yes</li>
            <li value="3">Use Timezone from Log File: No</li>
            <li value="4">Multiline Processing: No</li>
            <li value="5">Infer Boundaries: No</li>
            <li value="6">Boundary Regex: OK to leave blank</li>
        </ul>
        <h3>/var/log/httpd/ssl_access_log</h3>
        <p>Purpose: These logs indicate a request has been made to your Apache server using the Secure Sockets Layer (SSL).</p>
        <p>Settings to use when configuring the Source:</p>
        <ul>
            <li value="1">Recommended Source Category: Application_Apache_Access</li>
            <li value="2">Timestamp Parsing: Yes</li>
            <li value="3">Use Timezone from Log File: No</li>
            <li value="4">Multiline Processing: No</li>
            <li value="5">Infer Boundaries: No</li>
            <li value="6">Boundary Regex: OK to leave blank</li>
        </ul>
        <h3>/var/log/httpd/other_vhosts_access_log</h3>
        <p>Purpose: These  logs indicate a request has been made to your Apache server on a virtual host.</p>
        <p>Settings to use when configuring the Source:</p>
        <ul>
            <li value="1">Recommended Source Category: Application_Apache_Access</li>
            <li value="2">Timestamp Parsing: Yes</li>
            <li value="3">Use Timezone from Log File: No</li>
            <li value="4">Multiline Processing: No</li>
            <li value="5">Infer Boundaries: No</li>
            <li value="6">Boundary Regex: OK to leave blank</li>
        </ul>
        <p>&#160;</p>
        <p>&#160;</p>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkBottom" style="display: none;"><a href="Default.htm#Recommendations_for_Apache_Collections.htm">Open topic with navigation</a>
        </p>
    </body>
</html>