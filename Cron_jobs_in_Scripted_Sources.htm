<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="no-feedback" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Setting Up| Installed Collectors and Sources|Step 3. Add a Source|Configuring a Script Source">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Advanced Topic:&#160;Using CRON Expressions</title>
        <link href="Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="Resources/Stylesheets/Styles.css" rel="stylesheet" />
        <script src="Resources/Scripts/jquery.min.js">
        </script>
        <script src="Resources/Scripts/plugins.min.js">
        </script>
        <script src="Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop" style="display: none;"><a href="Default.htm#Cron_jobs_in_Scripted_Sources.htm">Open topic with navigation</a>
        </p>
        <script type="text/javascript">/* <![CDATA[ */
			var _gaq = _gaq || [];
			_gaq.push(['_setAccount', 'UA-16579649-1']);
			_gaq.push(['_trackPageview']);
			(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
			})();
		/* ]]> */</script>
        <h1>Advanced Topic:&#160;Using CRON Expressions</h1>
        <p>If you're configuring a Script Source and need to specify a frequency that's different than any existing option, you can specify a CRON expression to collect data at a custom frequency. </p>
        <p><span class="MyVariablesCompanyName">Sumo Logic</span> supports the Quartz CRON framework.</p>
        <p style="font-weight: bold;">To use a CRON Expression in a Script Source:</p>
        <ol>
            <li value="1">In the Web Application, click the <b>Collectors</b> tab, and then click <b>Add Source</b> for the Collector you choose.</li>
            <li value="2">Select <b>Script</b> for the Source type.<br /><br /><img src="Resources/Images/Script_source_select_598x118.png" style="width: 598;height: 118;" /><br /><br /></li>
            <li value="3">Enter the source's <b>Name</b>, <b>Description</b> (optional), <b>Source Host</b>, and <b>Source Category</b>.</li>
            <li value="4">For <b>Frequency</b>, choose <b>Other (CRON&#160;Expression)</b>, then type the expression.<br /><br /><img src="Resources/Images/Script_source_cron_exp_507x383.png" style="width: 507;height: 383;" /></li>
        </ol>
        <ol start="5">
            <li value="5">If you'd like to set a timeout for your script, select <b>Specify a timeout for your command</b>. If you don't need a timeout, or if you're running a script once daily, we recommend that you leave this option deselected. Learn more in <a href="Configuring_a_Script_Source.htm">Configuring a Script Source</a>.</li>
            <li value="6">For <b>Command</b>, choose the type of command you're going to use. The options in this menu depend on the type of Collector you're using:<br></br><br></br><img src="Resources/Images/Script_Source_Mac_Commandspng_484x105.png" style="width: 484;height: 105;"></img><br></br><cite style="font-size: 8pt;">Mac/Linux Command options.</cite><br></br><br></br><img src="Resources/Images/Script_Source_Win_Commands_480x45.png" style="width: 480;height: 45;"></img><br></br><cite style="font-size: 8pt;">Windows Command options.<br></br></cite><br></br></li>
        </ol>
        <ol>
            <li value="9">For <b>Script</b>, do one of the following:</li>
        </ol>
        <ul>
            <li value="1">Choose <b>Type a path to the script to execute</b> if you have the script saved to a file location. For example:<br></br><img src="Resources/Images/Script_Source_script_location_435x113.png" style="width: 435;height: 113;"></img><br></br><br></br></li>
            <li value="2"><b>OR</b>, choose <b>Type the script to execute</b> if you'd like to enter the script directly in the <span class="MyVariablesCompanyName">Sumo Logic</span> <![CDATA[ ]]><span class="MyVariablesWeb Application">Web Application</span>. Then type the script in the text box. For example:<br></br><br></br><img src="Resources/Images/Script_Source_type_script_424x135.png" style="width: 424;height: 135;"></img></li>
        </ul>
        <ol>
            <li value="10">For <b>Working Directory</b>, you'll only need to enter a path if your script refers to a file indirectly. So, enter the path of the file you'd like to collect if required; otherwise this option can remain blank.</li>
            <li value="11">Under <b>Advanced</b> you'll see options regarding timestamps and time zones:</li>
        </ol>
        <ul>
            <li value="1"><b>Timestamp Parsing</b>. By default <b>Extract timestamp information from log file entries</b> is selected, meaning that Sumo Logic will use the timestamp information from the data you collect. Deselecting this option turns off all timestamp parsing.</li>
            <li value="2"><b>Time Zone.</b> Select an option under <b>Use time zone from log file, but if none present use</b>. Or, if you'd like to override all time zones from data you collect, choose an option under <b>Ignore time zone and instead use</b>.<br></br></li>
        </ul>
        <ol data-mc-continue="true">
            <li value="12">For <b>Multiline Processing</b>, by default only Boundary Regex is selected. To many any changes to this setting, select <b>Detect messages spanning multiple lines</b> only if the type of data you're collecting is suited to being collected as multi-line log messages.</li>
            <li value="13">If you'd like to filter data being collected, set <b>Filter</b> options. See <a href="Filtering_data_sent_from_a_Source.htm">Filtering data sent from a Source</a> for more information.</li>
            <li value="14">Click <b>Save</b> to complete the Source setup.</li>
        </ol>
        <p>&#160;</p>
        <h2>CRON Examples</h2>
        <p>Use the following examples to structure your CRON expressions.</p>
        <p>To run the script at 12:00 PM (noon) every day: <code>0 0 12 * * ?	</code></p>
        <p>To run the script at 11:00 PM every weekday night: <code>0 23 ? * MON-FRI</code></p>
        <p>To run the script at 10:15 AM every day:<code> 0 15 10 * * ? </code></p>
        <p>To run the script at 10:15 AM every Monday, Tuesday, Wednesday, Thursday and Friday: <code>0 15 10 ? * MON-FRI</code></p>
        <p>&#160;</p>
        <h2>CRON Reference</h2>
        <p>Cron expressions are comprised of six required fields (seconds, minutes, hours, day of the month, month, day of the week) and one optional field (year) separated by white space:</p>
        <table>
            <col style="width: 139px;" />
            <col style="width: 176px;" />
            <col style="width: 223px;" />
            <tbody>
                <tr>
                    <td style="font-weight: bold;">Field Name</td>
                    <td style="font-weight: bold;">Allowed Values</td>
                    <td>
                        <p style="font-weight: bold;">	 		 	Allowed Special Characters</p>
                    </td>
                </tr>
                <tr>
                    <td style="font-size: 9pt;">Seconds</td>
                    <td style="font-size: 9pt;">0-59</td>
                    <td style="font-size: 9pt;"><code>- * /</code>
                    </td>
                </tr>
                <tr>
                    <td style="font-size: 9pt;">Minutes	</td>
                    <td style="font-size: 9pt;">0-59</td>
                    <td style="font-family: 'Courier New';font-size: 9pt;">- * /</td>
                </tr>
                <tr>
                    <td style="font-size: 9pt;">Hours	</td>
                    <td style="font-size: 9pt;"> 	0-23</td>
                    <td style="font-family: 'Courier New';font-size: 9pt;">- * /</td>
                </tr>
                <tr>
                    <td style="font-size: 9pt;">Day (of month)</td>
                    <td style="font-size: 9pt;">1-31</td>
                    <td style="font-family: 'Courier New';font-size: 9pt;"> * ? / L W</td>
                </tr>
                <tr>
                    <td style="font-size: 9pt;">Month	</td>
                    <td style="font-size: 9pt;">1-12 or JAN-DEC</td>
                    <td style="font-family: 'Courier New';font-size: 9pt;"> - * /</td>
                </tr>
                <tr>
                    <td style="font-size: 9pt;">Day (of week)</td>
                    <td style="font-size: 9pt;"> 	1-7 or SUN-SAT</td>
                    <td style="font-family: 'Courier New';font-size: 9pt;">- * ? / L #</td>
                </tr>
                <tr>
                    <td style="font-size: 9pt;">Year (optional)	</td>
                    <td style="font-size: 9pt;">empty, 1970-2199</td>
                    <td style="font-family: 'Courier New';font-size: 9pt;">- * /</td>
                </tr>
            </tbody>
        </table>
        <p>There are several special characters that are used to specify values:</p>
        <p>&#160;</p>
        <table style="width: 100%;">
            <col style="width: 101px;" />
            <col style="width: 150px;" />
            <col />
            <tbody>
                <tr>
                    <td><b>Character</b>
                    </td>
                    <td><b>Specifies</b>
                    </td>
                    <td><b>Notes</b>
                    </td>
                </tr>
                <tr>
                    <td style="font-family: 'Courier New';font-size: 9pt;">*</td>
                    <td style="font-size: 9pt;">All values.</td>
                    <td style="font-size: 9pt;"><code>*</code> in the minute field means every minute.</td>
                </tr>
                <tr>
                    <td style="font-family: 'Courier New';font-size: 9pt;">?</td>
                    <td style="font-size: 9pt;">No specific value in the day of month and day of week fields.</td>
                    <td style="font-size: 9pt;"><code>?</code>&#160;specifies a value in one field, but not the other.</td>
                </tr>
                <tr>
                    <td style="font-family: 'Courier New';font-size: 9pt;">-</td>
                    <td style="font-size: 9pt;">A range.</td>
                    <td style="font-size: 9pt;"><code>10-12</code> in the hour field means the script will run at 10, 11 and 12 (noon).</td>
                </tr>
                <tr>
                    <td style="font-family: 'Courier New';font-size: 9pt;">,</td>
                    <td style="font-size: 9pt;">Additional values.</td>
                    <td style="font-size: 9pt;">Typing "MON,WED,FRI" in the day-of-week field means the script will run only on Monday, Wednesday, and Friday.</td>
                </tr>
                <tr>
                    <td style="font-family: 'Courier New';font-size: 9pt;">/</td>
                    <td style="font-size: 9pt;">Increments.</td>
                    <td style="font-size: 9pt;"><code>0/15</code> in the seconds field means the seconds 0, 15, 30, and 45. <code>*</code> before the '/' is equivalent to specifying 0 is the value to start with. Essentially, for each field in the expression, there is a set of numbers that can be turned on or off. For seconds and minutes, the numbers range from 0 to 59. </td>
                </tr>
                <tr>
                    <td style="font-family: 'Courier New';font-size: 9pt;">#</td>
                    <td style="font-size: 9pt;">Day of a month.</td>
                    <td style="font-size: 9pt;"><code>6#3</code> in the day of week field means the third Friday (day 6 is Friday; #3 is the 3rd Friday in the month). If you specify, say<code> #5</code>, and there isn't a 5th occurrence of the given day, the CRON job won't fire. If <code>#</code> is used, there can only be one expression in the day of week field.</td>
                </tr>
                <tr>
                    <td style="font-family: 'Courier New';font-size: 9pt;">L</td>
                    <td style="font-size: 9pt;">The last day of a month or week.</td>
                    <td style="font-size: 9pt;"><code>L</code> means the last day of the month. If used in the day of week field by itself, it means<code> 7</code> or <code>SAT</code>. If used in the day of week field after another value, it means the last [day] of the month; for example<code> 6L</code> means the last Friday of the month. You can also specify an offset from the last day of the month; <code>L-3</code> means the third to last day of the month. Make sure not to use <code>L</code> to specify lists or ranges of values.</td>
                </tr>
                <tr>
                    <td style="font-family: 'Courier New';font-size: 9pt;">W</td>
                    <td style="font-size: 9pt;">The weekday (Mon-Fri) nearest the specified day.</td>
                    <td style="font-size: 9pt;">Specifying <code>15W</code> means the CRON job will fire on the nearest weekday to the 15th of the month. If the 15th is a Saturday, the trigger fires on Friday the 14th. If the 15th is a Sunday, the trigger fires on Monday the 16th. W can only be specified when the day of month is a single day (not a range or list of days).</td>
                </tr>
            </tbody>
        </table>
        <p>&#160;</p>
        <p>&#160;</p>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkBottom" style="display: none;"><a href="Default.htm#Cron_jobs_in_Scripted_Sources.htm">Open topic with navigation</a>
        </p>
    </body>
</html>