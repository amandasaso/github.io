<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="no-feedback" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Search|Suggested Searches">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Searches for the Microsoft IIS Parser</title>
        <link href="Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="Resources/Stylesheets/Styles.css" rel="stylesheet" />
        <script src="Resources/Scripts/jquery.min.js">
        </script>
        <script src="Resources/Scripts/plugins.min.js">
        </script>
        <script src="Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop" style="display: none;"><a href="Default.htm#Searches_for_the_Microsoft_IIS_Parser.htm">Open topic with navigation</a>
        </p>
        <script type="text/javascript">/* <![CDATA[ */
			var _gaq = _gaq || [];
			_gaq.push(['_setAccount', 'UA-16579649-1']);
			_gaq.push(['_trackPageview']);
			(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
			})();
		/* ]]> */</script>
        <h1>Searches for the Microsoft IIS Parser</h1>
        <p>The following searches were built for use with the Microsoft IIS Parser. Copy and paste these searches into the search query field and save them for use later. </p>
        <p>These are written assuming the messages are parsed by our out of the box IIS W3C access log parser (i.e. parse using public/iis).</p>
        <p style="font-weight: bold;">HTTP&#160;Status Code Summary Over Time</p>
        <p>Returns the number of client errors, server errors, redirects, and successful responses observed each day over the last seven days. This search can be used to understand the distribution of errors vs successful responses and redirects.</p>
        <ul>
            <li value="1">Suggested Time Range: -7d</li>
            <li value="2">_sourceCategory=*IIS* | parse using public/iis | if(sc_status matches "2*", 1, 0) as successes | if(sc_status matches "3*", 1, 0) as redirects | if(sc_status matches "5*", 1, 0) as server_errors | if(sc_status matches "4*", 1, 0) as client_errors | timeslice by 1d | sum(successes) as successes,  sum(redirects) as redirects, sum(client_errors) as client_errors,  sum(server_errors) as server_errors by _timeslice</li>
        </ul>
        <p style="font-weight: bold;">Top 404 URLs</p>
        <p>Returns the top 100 URLs that refer to a resource (that doesn't exist on the website). This information can be used to fix existing web pages.</p>
        <ul>
            <li value="1">Suggested Time Range: -1d</li>
            <li value="2">_sourceCategory=*IIS* "404" | parse using public/iis |  where sc_status matches "404" | count_frequent cs_uri_stem | limit 100</li>
        </ul>
        <p style="font-weight: bold;">Traffic Volume Served Per Day</p>
        <p>Returns the number of hits on a website each day over the past 24 hours. If this search is run over a longer period of time (such as two weeks or a month) it may give you a good idea of which days of the week are busier.</p>
        <ul>
            <li value="1">Suggested Time Range: -7d</li>
            <li value="2">_sourceCategory=*IIS* | parse using public/iis | timeslice by 1d | count as hits by _timeslice</li>
        </ul>
        <p style="font-weight: bold;">Top Browsers</p>
        <p>Returns the top 10 browsers accessing the website.</p>
        <ul>
            <li value="1">Suggested Time Range: -1d</li>
            <li value="2">_sourceCategory=*IIS* | parse using public/iis | count_frequent cs_user_agent | limit 10f</li>
        </ul>
        <p style="font-weight: bold;">Slowest URLs by Average Time</p>
        <ul>
            <li value="1">Suggested Time Range: -1d</li>
            <li value="2">_sourceCategory=*IIS* | parse using public/iis | (time_taken/1000) as seconds | avg(seconds) as avgtimeinseconds by cs_uri_stem | sort by avgtimeinseconds | limit 100</li>
        </ul>
        <p>&#160;</p>
        <p>&#160;</p>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkBottom" style="display: none;"><a href="Default.htm#Searches_for_the_Microsoft_IIS_Parser.htm">Open topic with navigation</a>
        </p>
    </body>
</html>