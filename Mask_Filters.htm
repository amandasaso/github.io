<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="no-feedback" data-mc-search-type="Stem" data-mc-help-system-file-name="Default.xml" data-mc-path-to-help-system="" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-medium="non-print" data-mc-toc-path="Administration|Managing Sources|Filtering Source Data">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Mask filters</title>
        <link href="Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="Resources/Stylesheets/Styles.css" rel="stylesheet" />
        <script src="Resources/Scripts/jquery.min.js">
        </script>
        <script src="Resources/Scripts/plugins.min.js">
        </script>
        <script src="Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop" style="display: none;"><a href="Default.htm#Mask_Filters.htm">Open topic with navigation</a>
        </p>
        <script type="text/javascript">/* <![CDATA[ */
			var _gaq = _gaq || [];
			_gaq.push(['_setAccount', 'UA-16579649-1']);
			_gaq.push(['_trackPageview']);
			(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
			})();
		/* ]]> */</script>
        <h1>Mask filters</h1>
        <p>When you create a <b>mask</b> filter, whatever expression you choose to mask will be replaced with a mask string before it's sent to <span class="MyVariablesCompanyName">Sumo Logic</span>  (you can either select the character or use the default, #). For example, to mask all users' email addresses, you could use the following:</p>
        <p>
            <img src="Resources/Images/filter_mask_email_554x237.png" style="width: 554;height: 237;" />
        </p>
        <p>
            <p class="Indent">Log line:</p>
            <p class="IndentCode">2012-05-16 09:43:39,607 -0700 DEBUG [hostId=prod-cass-raw-8] </p>
            <p class="IndentCode">[module=RAW] [logger=scala.raw.InboundRawProtocolHandler] [auth=User:<b>dan@demo.com</b>] [remote_ip=98.248.40.103] </p>
            <p class="IndentCode">[web_session=19zefhqy...] [session=80F1BD83AEBDF4FB] [customer=0000000000000005] [call=InboundRawProtocol.getMessages]</p>
            <p class="Indent">Resulting masked log line:</p>
            <p class="IndentCode">I2012-05-16 09:43:39,607 -0700 DEBUG [hostId=prod-cass-raw-8] </p>
            <p class="IndentCode">[module=RAW] [logger=scala.raw.InboundRawProtocolHandler] [auth=User:<b>MASKED_USER_EMAIL</b>] [remote_ip=98.248.40.103] </p>
            <p class="IndentCode">[web_session=19zefhqy...] [session=80F1BD83AEBDF4FB] [customer=0000000000000005] [call=InboundRawProtocol.getMessages]</p>
            <p style="font-weight: bold;">Please &#160;note the following:</p>
        </p>
        <ul>
            <li value="1">Expressions that you want masked must be expressed as a match group enclosed in "()"</li>
            <li value="2">You can use an anchor to detect specific values. For example, if in your logs all user emails can be identified in logs as<code> User:(user@email.com)]</code> you could use <code>(User:( ) </code>as an anchor.</li>
            <li value="3">You can specify multiple match groups. Note that if multiple match groups are specified in one filter, each  value will be masked the same way. So if you create one filter for users' email addresses and IP&#160;addresses both will be replaced with the same mask string:<br /><img src="Resources/Images/filter_group_mask_553x253.png" style="width: 553;height: 253;" /><br /></li>
            <li value="4">If you'd like to use a different mask for each value, you'll need to create a separate mask rule for each value. For example, if you'd like to mask IP addresses with a string that's different from the user email string, you'd create another filter with the expression<code> (\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}\)] </code>and you could use USER_IP_ADDRESS as the mask string:<br /><img src="Resources/Images/filter_mask_IP_538x231.png" style="width: 538;height: 231;" /><br /></li>
            <li value="5">Make sure you don't specify a regular expression that matches a full log line. Doing so will result in the entire log line being masked.</li>
        </ul>
        <p>&#160;</p>
        <p>&#160;</p>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkBottom" style="display: none;"><a href="Default.htm#Mask_Filters.htm">Open topic with navigation</a>
        </p>
    </body>
</html>